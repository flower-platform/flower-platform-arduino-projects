#macro( instance )
##
## split the children into categories
##
#set( $properties = [] )
#set( $events = [] )
#set( $methods = [] )
#foreach( $child in $NodeTemplateUtils.getChildren($node.nodeUri) )
#if( $child.type == "propertyDescriptor" )
#set( $dummy = $properties.add($child) )
#end
#if( $child.type == "addChildDescriptor" )
#set( $dummy = $events.add($child) )
#end
#if( $child.type == "virtualChild" )
#set( $dummy = $methods.add($child) )
#end
#end

<html><body>
<h1>${node.properties.name}</h1>
<p>
Jump to: <a href="#properties">Properties</a> | <a href="#events">Events</a> | <a href="#methods">Methods</a>
</p>
$!node.properties.petaldoc

<h2 id="properties">Properties</h2>
#set( $hasElements = false )
#foreach( $child in $properties )
#set( $hasElements = true )
<h3>$child.properties.name:#if( $child.properties.propertyType )$child.properties.propertyType #{else}String#end</h3>
$!child.properties.petaldoc
#end
#if( !$hasElements )None.#end

<h2 id="events">Events</h2>
#set( $hasElements = false )
#foreach( $child in $events )
#set( $hasElements = true )
#set( $eventType = ${child.properties.childType} )
#set( $eventNode = $NodeTemplateUtils.navigate($root.nodeUri, ["name", $eventType]) )
<h3 id="$eventType.replaceAll("\W", "_")">$eventType</h3>
$!eventNode.properties.petaldoc
#end
#if( !$hasElements )None.#end

<h2 id="methods">Methods</h2>
#set( $hasElements = false )
#foreach( $child in $methods )
#set( $hasElements = true )
<h3 id="$child.properties.name.replaceAll("\W", "_")">${child.properties.name}</h3>
$!child.properties.petaldoc
#end
#if( !$hasElements )None.#end
</body></html>
#end