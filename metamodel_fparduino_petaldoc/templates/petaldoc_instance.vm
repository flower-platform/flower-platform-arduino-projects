#macro( instance )
##
## split the children into categories
##
#set( $properties = [] )
#set( $events = [] )
#set( $methods = [] )
#foreach( $child in $NodeTemplateUtils.getChildren($node.nodeUri) )
#if( $child.type == "propertyDescriptor" )
#set( $dummy = $properties.add($child) )
#end
#if( $child.type == "addChildDescriptor" )
#set( $dummy = $events.add($child) )
#end
#if( $child.type == "virtualChild" )
#set( $dummy = $methods.add($child) )
#end
#end

#htmlBegin()
<h4>${node.properties.name}</h4>
<hr/>
<p style="margin-bottom: 10px">
Jump to: <a href="#properties" class="btn btn-warning btn-xs">Properties</a> <a href="#events" class="btn btn-info btn-xs">Events</a> <a href="#methods" class="btn btn-primary btn-xs">Methods</a>
</p>
$!node.properties.petaldoc

<!-- Properties -->
<div class="panel panel-warning">
  <div class="panel-heading">
    <h5 id="properties" class="panel-title">Properties</h5>
  </div>
  <div class="panel-body">
#set( $hasElements = false )
#foreach( $child in $properties )
#set( $hasElements = true )
<h5>$child.properties.name:#if( $child.properties.propertyType )$child.properties.propertyType #{else}String#end</h5>
$!child.properties.petaldoc
#end
#if( !$hasElements )None.#end
</div></div>

<!-- Events -->
<div class="panel panel-info">
  <div class="panel-heading">
    <h5 id="events" class="panel-title">Events</h5>
  </div>
  <div class="panel-body">
#set( $hasElements = false )
#foreach( $child in $events )
#set( $hasElements = true )
#set( $eventType = ${child.properties.childType} )
#set( $eventNode = $NodeTemplateUtils.navigate($root.nodeUri, ["name", $eventType]) )
<h5 id="$eventType.replaceAll("\W", "_")">$eventType</h5>
$!eventNode.properties.petaldoc
#end
#if( !$hasElements )None.#end
</div></div>

<!-- Methods -->
<div class="panel panel-primary">
  <div class="panel-heading">
    <h5 id="methods" class="panel-title">Methods</h5>
  </div>
  <div class="panel-body">
#set( $hasElements = false )
#foreach( $child in $methods )
#set( $hasElements = true )
<h5 id="$child.properties.name.replaceAll("\W", "_")">${child.properties.name}</h5>
$!child.properties.petaldoc
#end
#if( !$hasElements )None.#end
</div></div>

#htmlEnd()
#end